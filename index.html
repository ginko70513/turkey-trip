<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3/11-3/22 åœŸè€³å…¶å°ˆå±¬è¡Œç¨‹èˆ‡è³¼ç‰©å°èˆª</title>

    <!-- PWA Meta Tags -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#319795">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="åœŸè€³å…¶ä¹‹æ—…">
    <link rel="apple-touch-icon" href="icon-192.png">

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: #F8FAF5;
            color: #2D3748;
            font-size: 17px;
        }
        .chart-wrapper {
            position: relative;
            width: 100%;
            height: 250px;
            max-height: 300px;
        }
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        .card-shadow {
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }
        .active-tab {
            background-color: #319795;
            color: white;
            border-color: #319795;
            transform: scale(1.05);
        }
        .inactive-tab {
            background-color: white;
            color: #718096;
            border-color: #E2E8F0;
        }
        /* Brand colors for store cards */
        .brand-migros { border-left: 4px solid #FF6600; }
        .brand-sok { border-left: 4px solid #FFD700; }
        .brand-a101 { border-left: 4px solid #1E40AF; }
        .brand-gratis { border-left: 4px solid #EC4899; }
        .brand-watsons { border-left: 4px solid #2563EB; }
        .brand-eczane { border-left: 4px solid #DC2626; }
        .brand-tag-migros { background-color: #FFF7ED; color: #C2410C; border-color: #FB923C; }
        .brand-tag-sok { background-color: #FEFCE8; color: #A16207; border-color: #FACC15; }
        .brand-tag-a101 { background-color: #EFF6FF; color: #1E40AF; border-color: #60A5FA; }
        .brand-tag-gratis { background-color: #FDF2F8; color: #BE185D; border-color: #F472B6; }
        .brand-tag-watsons { background-color: #EFF6FF; color: #1D4ED8; border-color: #3B82F6; }
        .brand-tag-eczane { background-color: #FEF2F2; color: #DC2626; border-color: #F87171; }
    </style>
</head>
<body class="flex flex-col min-h-screen">

    <!-- Navbar -->
    <nav class="bg-white border-b border-gray-200 sticky top-0 z-50 px-4 py-2 shadow-sm">
        <div class="flex justify-between items-center">
            <div>
                <h1 class="text-lg font-bold text-teal-700 tracking-wide">ğŸ‡¹ğŸ‡· åœŸè€³å…¶ä¹‹æ—… (3/11-3/22)</h1>
                <p class="text-xs text-gray-500">æ‚¨çš„æ¯æ—¥é£¯åº—èˆ‡è³¼ç‰©æ”»ç•¥</p>
            </div>
            <button onclick="document.getElementById('global-tips').scrollIntoView({behavior: 'smooth'})" class="text-sm bg-orange-100 text-orange-700 px-3 py-1 rounded-full font-medium">
                ğŸ’¡ å¿…è®€æ”»ç•¥
            </button>
        </div>
        <!-- Dual Clock -->
        <div class="flex justify-center gap-4 mt-1 text-xs">
            <div class="flex items-center gap-1 bg-gray-50 px-2 py-0.5 rounded">
                <span>ğŸ‡¹ğŸ‡¼</span>
                <span class="text-gray-500">å°ç£</span>
                <span id="clock-tw" class="font-mono font-bold text-gray-700">--:--</span>
            </div>
            <div class="flex items-center gap-1 bg-teal-50 px-2 py-0.5 rounded">
                <span>ğŸ‡¹ğŸ‡·</span>
                <span class="text-teal-600">åœŸè€³å…¶</span>
                <span id="clock-tr" class="font-mono font-bold text-teal-700">--:--</span>
            </div>
            <div class="text-gray-400 flex items-center">æ™‚å·® -5hr</div>
        </div>
    </nav>

    <!-- Timeline Navigation (Scrollable) -->
    <div class="bg-gray-50 py-4 shadow-inner">
        <div class="container mx-auto px-4">
            <h2 class="text-xs font-bold text-gray-400 uppercase tracking-wider mb-2">é¸æ“‡æ—¥æœŸ / è¡Œç¨‹</h2>
            <div id="timeline" class="flex overflow-x-auto space-x-3 pb-2 no-scrollbar snap-x">
            </div>
        </div>
    </div>

    <!-- Main Content Area -->
    <main class="flex-grow container mx-auto px-4 py-6 max-w-5xl">

        <!-- Intro & Hotel Context -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
            <!-- Left: Location & Hotel Info -->
            <div class="md:col-span-1">
                <div class="bg-white rounded-xl card-shadow p-5 border-l-4 border-teal-500 h-full flex flex-col justify-between">
                    <div>
                        <span id="day-badge" class="inline-block bg-teal-100 text-teal-800 text-xs px-2 py-1 rounded font-bold mb-2">DAY 1</span>
                        <h2 id="location-title" class="text-2xl font-bold text-gray-800 mb-1">Taipei -> Istanbul</h2>
                        <div class="flex items-center text-gray-600 mt-2">
                            <span class="text-xl mr-2">ğŸ¨</span>
                            <div>
                                <p class="text-xs text-gray-400 uppercase">Tonight's Hotel</p>
                                <p id="hotel-name" class="font-bold text-lg leading-tight">é£›æ©Ÿä¸Š / æ©Ÿå ´</p>
                                <p id="hotel-address" class="text-xs text-gray-400 mt-1 leading-snug"></p>
                            </div>
                        </div>
                    </div>
                    <div id="hotel-note" class="mt-4 text-sm text-gray-500 bg-gray-50 p-2 rounded">
                        æº–å‚™å‡ºç™¼ï¼ä»Šæ—¥é‡é»æ˜¯æ©Ÿå ´å…ç¨…åº—èˆ‡ä¼‘æ¯ã€‚
                    </div>
                    <!-- Weather Widget -->
                    <div id="weather-box" class="mt-3 bg-gradient-to-r from-blue-50 to-cyan-50 rounded-lg p-3 border border-blue-100 hidden">
                        <div class="flex items-center justify-between">
                            <div class="flex items-center gap-2">
                                <span id="weather-icon" class="text-2xl">ğŸŒ¤</span>
                                <div>
                                    <p class="text-xs text-gray-400">ç•¶åœ°å¤©æ°£</p>
                                    <p id="weather-temp" class="text-lg font-bold text-gray-700">--Â°C</p>
                                </div>
                            </div>
                            <div class="text-right text-xs text-gray-500">
                                <p id="weather-desc">è¼‰å…¥ä¸­...</p>
                                <p id="weather-detail"></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right: Daily Briefing -->
            <div class="md:col-span-2 bg-white rounded-xl card-shadow p-6">
                <h3 class="font-bold text-gray-700 mb-2 flex items-center">
                    <span class="bg-orange-100 text-orange-600 rounded-full w-6 h-6 flex items-center justify-center text-sm mr-2">!</span>
                    ä»Šæ—¥è³¼ç‰©é‡é»
                </h3>
                <p id="daily-summary" class="text-gray-600 text-sm leading-relaxed mb-4">
                    ä»Šå¤©åœ¨é£›æ©Ÿä¸Šï¼Œå»ºè­°æ‚¨å¯ä»¥ç€è¦½æ©Ÿä¸Šå…ç¨…å•†å“ï¼Œæˆ–æ˜¯åœ¨è½‰æ©Ÿæ™‚è³¼è²·ä¸€äº›ç°¡å–®çš„é›¶é£Ÿã€‚æŠµé”åœŸè€³å…¶å¾Œï¼Œè«‹å¤šåˆ©ç”¨ä¼‘æ¯æ™‚é–“èª¿æ•´æ™‚å·®ã€‚
                </p>

                <!-- Visualization Area -->
                <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                    <div class="bg-gray-50 rounded-lg p-3 border border-gray-100">
                        <h4 class="text-xs font-bold text-gray-500 mb-2 text-center">èµ°è·¯å»è²·è¦å¤šä¹…ï¼Ÿ(åˆ†é˜)</h4>
                        <div class="chart-wrapper" style="height: 180px;">
                            <canvas id="distanceChart"></canvas>
                        </div>
                    </div>
                    <div class="bg-gray-50 rounded-lg p-3 border border-gray-100">
                        <h4 class="text-xs font-bold text-gray-500 mb-2 text-center">é€™è£¡è²·ä»€éº¼æœ€åˆ’ç®—ï¼Ÿ</h4>
                        <div class="chart-wrapper" style="height: 180px;">
                            <canvas id="typeChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Daily Map Preview -->
        <section class="mb-8">
            <h3 class="text-xl font-bold text-gray-800 mb-3">ğŸ“ ä»Šæ—¥åœ°åœ–ç¸½è¦½</h3>
            <div id="daily-map" style="height: 300px; border-radius: 12px; z-index: 1;" class="card-shadow border border-gray-200"></div>
        </section>

        <!-- Detailed Shopping Spots List -->
        <section>
            <div class="flex justify-between items-end mb-4">
                <h3 class="text-xl font-bold text-gray-800">å‘¨é‚Šæ¨è–¦èˆ‡å°èˆª</h3>
            </div>
            <div id="spots-container" class="space-y-4">
            </div>
        </section>

        <!-- Global Tips Section -->
        <section id="global-tips" class="mt-12 bg-teal-800 text-teal-50 rounded-2xl p-8 shadow-lg">
            <h2 class="text-2xl font-bold mb-6 text-center text-white">ğŸ‡¹ğŸ‡· åœŸè€³å…¶è³¼ç‰©ç”Ÿå­˜æ³•å‰‡</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <div class="bg-teal-700 bg-opacity-50 p-4 rounded-lg">
                    <div class="text-3xl mb-2">ğŸ›’</div>
                    <h3 class="font-bold text-white mb-1">èªæ˜å¹³åƒ¹è¶…å¸‚</h3>
                    <p class="text-sm text-teal-100">æƒ³è²·æ°´ã€é¤…ä¹¾ã€ç´…èŒ¶åŒ…ï¼Ÿè«‹åœ¨ Google Map æœå°‹ <strong>"BIM"</strong>, <strong>"A101"</strong> æˆ– <strong>"Migros Jet"</strong>ã€‚åƒ¹æ ¼æ˜¯è§€å…‰å€å•†åº—çš„ä¸€åŠã€‚</p>
                </div>
                <div class="bg-teal-700 bg-opacity-50 p-4 rounded-lg">
                    <div class="text-3xl mb-2">ğŸ§¶</div>
                    <h3 class="font-bold text-white mb-1">æ®ºåƒ¹çš„è—è¡“</h3>
                    <p class="text-sm text-teal-100">åœ¨ç•ªç´…èŠ±åŸã€å¤§å¸‚é›†æˆ–è§€å…‰å€çš„å°åº—ï¼Œ<strong>æ®ºåƒ¹æ˜¯å¿…é ˆçš„</strong>ã€‚é€šå¸¸å¾é–‹åƒ¹çš„ 50%-60% é–‹å§‹å–Šï¼Œä¿æŒå¾®ç¬‘ä½†å …å®šã€‚</p>
                </div>
                <div class="bg-teal-700 bg-opacity-50 p-4 rounded-lg">
                    <div class="text-3xl mb-2">ğŸ’Š</div>
                    <h3 class="font-bold text-white mb-1">è—¥å¦èˆ‡ç«ç‘°æ°´</h3>
                    <p class="text-sm text-teal-100">åœŸè€³å…¶è—¥å¦åº—å« "Eczane"ã€‚è‘—åçš„ç«ç‘°æ°´ (Gulsha) åœ¨é€™è£¡è²·æœ€ä¾¿å®œï¼Œå±ˆè‡£æ° (Watsons) æˆ– Gratis ä¹Ÿæœ‰è³£ã€‚</p>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-gray-100 text-gray-500 py-6 mt-8 text-center text-xs">
        <p>è¡Œç¨‹æ—¥æœŸï¼š2025/03/11 - 2025/03/22</p>
        <p>ç¥æ‚¨æ—…é€”æ„‰å¿«ï¼App Generated for User</p>
    </footer>

    <script>
        // --- DATA STORE ---
        const tripData = [
            // Day 1: 3/11 é£›æ©Ÿä¸Š
            {
                date: "3/11",
                day: "Day 1",
                location: "Taipei -> Turkey",
                hotel: "é£›æ©Ÿä¸Š",
                hotelAddress: "",
                hotelCoords: null,
                summary: "å‡ºç™¼æ—¥ï¼å¾æ¡ƒåœ’æ©Ÿå ´é£›å¾€åœŸè€³å…¶ã€‚å»ºè­°åœ¨æ©Ÿå ´å…ç¨…åº—æ¡è³¼å¿…è¦å“ï¼Œæ©Ÿä¸Šå¥½å¥½ä¼‘æ¯èª¿æ•´æ™‚å·®ã€‚",
                shoppingTip: "æ©Ÿä¸Šä¿æ¿•å¾ˆé‡è¦ï¼Œå¤šå–æ°´ã€‚å¯åœ¨æ¡ƒåœ’å…ç¨…åº—å…ˆè²·äº›å¿…éœ€å“ã€‚",
                spots: [],
                chartData: { distance: [], types: [0,0,0,0] }
            },
            // Day 2: 3/12 Ankara - HILTONSA
            {
                date: "3/12",
                day: "Day 2",
                location: "Ankara",
                hotel: "HILTONSA HOTEL",
                hotelAddress: "Tahran Caddesi No 12, Kavaklidere, Ankara, 06700",
                hotelCoords: [39.9020, 32.8636],
                summary: "æŠµé”åœŸè€³å…¶é¦–éƒ½å®‰å¡æ‹‰ï¼é£¯åº—ä½æ–¼ Kavaklidere é«˜ç´šä½å®…å€ï¼Œæ—é‚Šå°±æ˜¯è‘—åçš„ TunalÄ± Hilmi å¤§é“ï¼Œé¤å»³ã€å’–å•¡å»³æ—ç«‹ã€‚",
                shoppingTip: "Kavaklidere å€ç”Ÿæ´»æ©Ÿèƒ½å¥½ï¼ŒTunalÄ± Hilmi å¤§é“ä¸Šæœ‰å¾ˆå¤šå•†åº—å’Œè—¥å¦ã€‚",
                spots: [
                    { name: "TunalÄ± Hilmi Caddesi (å¤§é“)", distance: 5, walkText: "æ­¥è¡Œç´„ 4-5 åˆ†é˜", type: "è³¼ç‰©å¤§é“", goods: "æœé£¾ã€å’–å•¡ã€é¤å»³ã€æ›¸åº—", desc: "å®‰å¡æ‹‰æœ€ç†±é¬§çš„å¤§é“ä¹‹ä¸€ï¼Œé¡ä¼¼å°åŒ—æ±å€ã€‚å„ç¨®å“ç‰Œå’Œé¤å»³éƒ½æœ‰ã€‚", mapQuery: "TunalÄ± Hilmi Caddesi, Kavaklidere, Ankara", coords: [39.9111, 32.8622] },
                    { name: "Migros (Tahran Cad.)", distance: 3, walkText: "æ­¥è¡Œç´„ 2-3 åˆ†é˜", type: "Migros", brand: "migros", goods: "æ°´ã€æœæ±ã€é›¶é£Ÿã€ç”Ÿé®®", desc: "å°±åœ¨ Tahran å¤§é“ä¸Šï¼Œè·Ÿé£¯åº—åŒä¸€æ¢è¡—ï¼ˆé–€ç‰Œ No:40ï¼‰ï¼Œæœ€è¿‘çš„è¶…å¸‚ã€‚", mapQuery: "Migros, Gazi OsmanpaÅŸa Mah. Tahran Caddesi No:40, Ã‡ankaya, Ankara", coords: [39.9036, 32.8617] },
                    { name: "Watsons (TunalÄ± Hilmi Cad.)", distance: 7, walkText: "æ­¥è¡Œç´„ 5-8 åˆ†é˜", type: "Watsons", brand: "watsons", goods: "åœ‹éš›å“ç‰Œä¿é¤Šã€å½©å¦ã€ç«ç‘°æ°´", desc: "TunalÄ± Hilmi å¤§é“ä¸Šï¼Œå“é …é½Šå…¨ã€‚", mapQuery: "Watsons, Kavaklidere Mah. TunalÄ± Hilmi Cad. No:119, Ã‡ankaya, Ankara", coords: [39.9027, 32.8589] },
                    { name: "Evrensel Eczanesi", distance: 5, walkText: "æ­¥è¡Œç´„ 4-6 åˆ†é˜", type: "Eczane", brand: "eczane", goods: "è—¥å“ã€é˜²æ›¬ã€åŸºç¤ä¿é¤Šå“", desc: "BÃ¼klÃ¼m Sokak No:23/Aï¼ŒKavaklidere å€å…§ã€‚", mapQuery: "Evrensel Eczanesi, BÃ¼klÃ¼m Sok. No:23/A, Kavaklidere, Ankara", coords: [39.9045, 32.8605] }
                ],
                chartData: { distance: [5, 3, 7, 5], types: [30, 20, 40, 10] }
            },
            // Day 3: 3/13 ÃœrgÃ¼p - YUNAK EVLERI
            {
                date: "3/13",
                day: "Day 3",
                location: "Ankara -> Cappadocia (ÃœrgÃ¼p)",
                hotel: "YUNAK EVLERI CAVE HOTEL",
                hotelAddress: "Temenni, BalcÄ± Sk., 50400 ÃœrgÃ¼p/NevÅŸehir",
                hotelCoords: [38.6339, 34.9072],
                summary: "å‰å¾€å¡å¸•å¤šå¥‡äºï¼å…¥ä½ ÃœrgÃ¼p çš„æ´ç©´é£¯åº— Yunak Evleriï¼Œé«”é©—ç¨ç‰¹çš„æ´ç©´ä½å®¿ã€‚ÃœrgÃ¼p æ˜¯å€‹å°é®ï¼Œé®ä¸­å¿ƒæ­¥è¡Œå¯é”ã€‚",
                shoppingTip: "ÃœrgÃ¼p é®ä¸Šå¯ä»¥è²·é™¶ç“·ã€åœ°æ¯¯å’Œæ‰‹å·¥è—å“ã€‚è¶…å¸‚é¸æ“‡ä¸å¤šä½†åŸºæœ¬è£œçµ¦æ²’å•é¡Œã€‚",
                spots: [
                    { name: "ÃœrgÃ¼p é®ä¸­å¿ƒ", distance: 5, walkText: "æ­¥è¡Œç´„ 3-5 åˆ†é˜", type: "å°é®è¡—å€", goods: "é™¶ç“·ã€ç´€å¿µå“ã€è»Ÿç³–", desc: "é£¯åº—å°±åœ¨ Temenni å€ï¼Œèµ°ä¸‹å»å°±æ˜¯é®ä¸­å¿ƒï¼Œæœ‰å¾ˆå¤šå°åº—ã€‚", mapQuery: "ÃœrgÃ¼p Merkez, NevÅŸehir", coords: [38.6310, 34.9100] },
                    { name: "Migros (SivritaÅŸ Mah.)", distance: 12, walkText: "æ­¥è¡Œç´„ 10-12 åˆ†é˜", type: "Migros", brand: "migros", goods: "æ°´ã€æœæ±ã€é›¶é£Ÿã€ç”Ÿé®®", desc: "åœ¨ SivritaÅŸ å€ Benzinci DayÄ± è¡—ä¸Šï¼Œå“é …æ¯”è¼ƒé½Šå…¨ã€‚", mapQuery: "Migros, SivritaÅŸ Mah. Benzinci DayÄ± Sok. No:27, ÃœrgÃ¼p", coords: [38.6262, 34.9148] },  // coords verified
                    { name: "A101 (Fabrika Cad.)", distance: 7, walkText: "æ­¥è¡Œç´„ 5-8 åˆ†é˜", type: "A101", brand: "a101", goods: "é£²ç”¨æ°´ã€é›¶é£Ÿã€æ—¥ç”¨å“", desc: "Fabrika å¤§é“ä¸Šï¼Œæ¯” Migros è¿‘ä¸€äº›ã€‚", mapQuery: "A101, Fabrika Caddesi, ÃœrgÃ¼p, NevÅŸehir", coords: [38.6320, 34.9110] },
                    { name: "GÃ¼ney Eczanesi", distance: 3, walkText: "æ­¥è¡Œç´„ 2-3 åˆ†é˜", type: "Eczane", brand: "eczane", goods: "è—¥å“ã€é˜²æ›¬ã€åŸºç¤ä¿é¤Šå“", desc: "Temenni å€ Åehit Cem å¤§é“ä¸Šï¼Œé›¢é£¯åº—æœ€è¿‘çš„è—¥å±€ã€‚ÃœrgÃ¼p æ²’æœ‰ Gratis/Watsonsã€‚", mapQuery: "GÃ¼ney Eczanesi, Temenni Mah. Åehit Cem BulvarÄ± Cad. No:7, ÃœrgÃ¼p", coords: [38.6335, 34.9085] }
                ],
                chartData: { distance: [5, 12, 7, 3], types: [10, 70, 20, 0] }
            },
            // Day 4: 3/14 ÃœrgÃ¼p - YUNAK EVLERI (ç¬¬äºŒæ™š)
            {
                date: "3/14",
                day: "Day 4",
                location: "Cappadocia (å…¨æ—¥)",
                hotel: "YUNAK EVLERI CAVE HOTEL",
                hotelAddress: "Temenni, BalcÄ± Sk., 50400 ÃœrgÃ¼p/NevÅŸehir",
                hotelCoords: [38.6339, 34.9072],
                summary: "å¡å¸•å¤šå¥‡äºå…¨æ—¥éŠï¼ç†±æ°£çƒã€åœ°ä¸‹åŸã€å¥‡å²©æ€ªçŸ³ã€‚å¦‚æœæœ‰è‡ªç”±æ™‚é–“å¯ä»¥å» GÃ¶reme é®é€›é€›ç´€å¿µå“åº—ã€‚",
                shoppingTip: "åœ°æ¯¯æ˜¯é«˜åƒ¹å“ï¼Œè«‹é‡åŠ›è€Œç‚ºã€‚åœŸè€³å…¶çŸ³ (Turquoise) æ˜¯ä¸éŒ¯çš„ç´€å¿µå“ã€‚",
                spots: [
                    { name: "GÃ¶reme å¸‚å€å°åº— (éœ€æ­è»Š)", distance: 60, walkText: "éœ€æ­è»Šï¼ˆç´„ 15 åˆ†é˜è»Šç¨‹ï¼‰", type: "è§€å…‰è¡—å€", goods: "ç†±æ°£çƒé€ å‹ç´€å¿µå“ã€æ˜ä¿¡ç‰‡ã€åœ°æ¯¯", desc: "å¦‚æœæœ‰è‡ªç”±æ´»å‹•æ™‚é–“å» GÃ¶remeï¼Œé‚£è£¡æ˜¯è²·å°ç´€å¿µå“æœ€é›†ä¸­çš„åœ°æ–¹ã€‚", mapQuery: "GÃ¶reme, NevÅŸehir", coords: [38.6431, 34.8312] },
                    { name: "ÃœrgÃ¼p é®ä¸­å¿ƒæ•£æ­¥", distance: 5, walkText: "æ­¥è¡Œç´„ 3-5 åˆ†é˜", type: "æ•£æ­¥", goods: "é¢¨æ™¯ã€å’–å•¡ã€å°åº—", desc: "å‚æ™šå›é£¯åº—å¾Œå¯ä»¥åœ¨å°é®æ•£æ­¥ï¼Œå¾ˆæœ‰æ°£æ°›ã€‚", mapQuery: "ÃœrgÃ¼p Merkez, NevÅŸehir", coords: [38.6310, 34.9100] },
                    { name: "A101 (Fabrika Cad.)", distance: 7, walkText: "æ­¥è¡Œç´„ 5-8 åˆ†é˜", type: "A101", brand: "a101", goods: "è£œè²¨é£²ç”¨æ°´ã€é›¶é£Ÿ", desc: "åŒ Day 3ï¼Œé®ä¸Šæœ€è¿‘çš„è¶…å¸‚ã€‚", mapQuery: "A101, Fabrika Caddesi, ÃœrgÃ¼p, NevÅŸehir", coords: [38.6320, 34.9110] }
                ],
                chartData: { distance: [15, 5, 7], types: [10, 80, 10, 0] }
            },
            // Day 5: 3/15 Konya - GRAND HOTEL KONYA
            {
                date: "3/15",
                day: "Day 5",
                location: "Cappadocia -> Konya",
                hotel: "GRAND HOTEL KONYA",
                hotelAddress: "Akademi, Yeni Ä°stanbul Cd. No:231/1, 42130 SelÃ§uklu/Konya",
                hotelCoords: [38.0054, 32.5171],
                summary: "å‰å¾€å­”äº (Konya)ï¼Œæ¢…å¤«æ‹‰é‚£ (Mevlana) æ—‹è½‰èˆçš„æ•…é„‰ã€‚Grand Hotel Konya æ˜¯äº”æ˜Ÿé£¯åº—ï¼Œä½æ–¼ SelÃ§uklu å€ï¼Œé£¯åº—å…§æœ‰é™„è¨­å•†å ´ã€‚",
                shoppingTip: "å­”äºæ˜¯è¼ƒä¿å®ˆçš„åŸå¸‚ï¼Œä½† Bosna Hersek å€æœ‰ä¸å°‘è¶…å¸‚ã€‚é£¯åº—é™„è¨­å•†å ´ä¹Ÿå¯ä»¥é€›ã€‚",
                spots: [
                    { name: "é£¯åº—é™„è¨­å•†å ´", distance: 1, walkText: "é£¯åº—å…§", type: "å•†å ´", goods: "å’–å•¡ã€é¤å»³ã€åŸºæœ¬è³¼ç‰©", desc: "Grand Hotel Konya ç›´æ¥é€£æ¥å•†å ´ï¼Œä¸ç”¨å‡ºé–€å°±èƒ½é€›ã€‚", mapQuery: "Grand Hotel Konya, Yeni Ä°stanbul Cad. No:231, SelÃ§uklu, Konya", coords: [38.0058, 32.5168] },
                    { name: "Migros Jet (Yeni Ä°stanbul Cad.)", distance: 5, walkText: "æ­¥è¡Œç´„ 3-6 åˆ†é˜", type: "Migros", brand: "migros", goods: "æ°´ã€æœæ±ã€é›¶é£Ÿã€ç”Ÿé®®", desc: "Bosna Hersek å€ Yeni Ä°stanbul å¤§é“ä¸Šï¼Œè·Ÿé£¯åº—åŒæ¢è·¯ã€‚", mapQuery: "Migros Jet, Bosna Hersek Mah. Yeni Ä°stanbul Cad. No:250, SelÃ§uklu, Konya", coords: [38.0045, 32.5180] },
                    { name: "ÅOK (Bosna Hersek Mah.)", distance: 8, walkText: "æ­¥è¡Œç´„ 6-10 åˆ†é˜", type: "ÅOK", brand: "sok", goods: "é£²ç”¨æ°´ã€é¤…ä¹¾ã€æœæ±", desc: "Bosna Hersek å€ Soner è¡—ä¸Šï¼Œåƒ¹æ ¼ä¾¿å®œã€‚", mapQuery: "ÅOK Market, Bosna Hersek Mah. Soner Sok. No:1/1, SelÃ§uklu, Konya", coords: [38.0040, 32.5190] },
                    { name: "Eczane", distance: 6, walkText: "æ­¥è¡Œç´„ 5-8 åˆ†é˜", type: "Eczane", brand: "eczane", goods: "è—¥å“ã€é˜²æ›¬ã€åŸºç¤ä¿é¤Šå“", desc: "Bosna Hersek å€é™„è¿‘æœ‰å¤šå®¶è—¥å±€ã€‚å­”äºæ²’æœ‰ Gratis/Watsonsï¼Œè—¥å¦éœ€æ±‚ä¾†é€™è£¡ã€‚", mapQuery: "Eczane, Bosna Hersek Mah. Yeni Ä°stanbul Cad., SelÃ§uklu, Konya", coords: [38.0050, 32.5175] }
                ],
                chartData: { distance: [1, 5, 8, 6], types: [10, 30, 50, 10] }
            },
            // Day 6: 3/16 Antalya - HOLIDAY INN LARA
            {
                date: "3/16",
                day: "Day 6",
                location: "Konya -> Antalya",
                hotel: "HOLIDAY INN LARA ANTALYA",
                hotelAddress: "GÃ¼zeloba Mah. 2290 Sok. No:5, Lara, Antalya, 07230",
                hotelCoords: [36.8532, 30.8031],
                summary: "å‰å¾€åœ°ä¸­æµ·åº¦å‡å‹åœ°å®‰å¡”åˆ©äº (Antalya)ï¼Holiday Inn ä½æ–¼ Lara æµ·ç˜å€ï¼Œå‘¨é‚Šæ˜¯åº¦å‡é£¯åº—å€ï¼Œè³¼ç‰©éœ€èµ°ä¸€å°æ®µè·¯ã€‚",
                shoppingTip: "Lara å€æœ‰ TerraCity å’Œ Antalium å¤§å‹å•†å ´ï¼Œé›¢é£¯åº—ä¸é ã€‚A101 æ˜¯æœ€è¿‘çš„è¶…å¸‚ã€‚",
                spots: [
                    { name: "TerraCity AVM", distance: 20, walkText: "æ­¥è¡Œç´„ 15-20 åˆ† / è»Šç¨‹ 5 åˆ†", type: "å¤§å‹å•†å ´", goods: "H&M, Zara, LC Waikiki, ç¾é£Ÿè¡—, Watsons", desc: "Lara å€æœ€å¤§çš„è³¼ç‰©ä¸­å¿ƒï¼Œå„ç¨®å“ç‰Œéƒ½æœ‰ã€‚è£¡é¢ä¹Ÿæœ‰ Watsonsã€‚", mapQuery: "TerraCity AVM, Fener Mah. TekelioÄŸlu Cad. No:55, MuratpaÅŸa, Antalya", coords: [36.8475, 30.7615] },
                    { name: "A101 (GÃ¼zeloba)", distance: 10, walkText: "æ­¥è¡Œç´„ 10-15 åˆ†é˜", type: "A101", brand: "a101", goods: "é£²ç”¨æ°´ã€é›¶é£Ÿã€æ—¥ç”¨å“", desc: "GÃ¼zeloba å€ HavaalanÄ± å¤§é“ä¸Šï¼Œé›¢é£¯åº—æœ€è¿‘çš„è¶…å¸‚ã€‚", mapQuery: "A101, GÃ¼zeloba Mah. HavaalanÄ± Cad., MuratpaÅŸa, Antalya", coords: [36.8540, 30.8050] },
                    { name: "ÅOK (Fener Mah.)", distance: 18, walkText: "æ­¥è¡Œç´„ 15-20 åˆ†", type: "ÅOK", brand: "sok", goods: "é£²ç”¨æ°´ã€é¤…ä¹¾ã€æœæ±", desc: "Fener å€ Lara å¤§é“ä¸Šçš„ ÅOKï¼Œè¦æ¨¡ä¸å°ã€‚", mapQuery: "ÅOK Market, Fener Mah. Lara Cd. No:239/A, MuratpaÅŸa, Antalya", coords: [36.8475, 30.7606] },
                    { name: "Watsons (TerraCity å…§)", distance: 20, walkText: "æ­¥è¡Œç´„ 15-20 åˆ† / è»Šç¨‹ 5 åˆ†", type: "Watsons", brand: "watsons", goods: "åœ‹éš›å“ç‰Œä¿é¤Šã€å½©å¦ã€ç«ç‘°æ°´", desc: "åœ¨ TerraCity è³¼ç‰©ä¸­å¿ƒè£¡é¢ã€‚", mapQuery: "Watsons, TerraCity AVM, Fener Mah. TekelioÄŸlu Cad. No:55, Antalya", coords: [36.8475, 30.7615] },
                    { name: "Su Eczanesi", distance: 12, walkText: "æ­¥è¡Œç´„ 10-15 åˆ†é˜", type: "Eczane", brand: "eczane", goods: "è—¥å“ã€é˜²æ›¬ã€æ€¥éœ€ç”¨å“", desc: "Lara è§€å…‰è·¯ä¸Šçš„è—¥å±€ï¼Œæœ‰éœ€è¦å¯ä»¥å»ã€‚", mapQuery: "Su Eczanesi, Lara Kundu Turizm Yolu, Antalya", coords: [36.8510, 30.7950] }
                ],
                chartData: { distance: [20, 10, 18, 20, 12], types: [40, 10, 30, 20] }
            },
            // Day 7: 3/17 Pamukkale - PAM THERMAL
            {
                date: "3/17",
                day: "Day 7",
                location: "Antalya -> Pamukkale",
                hotel: "PAM THERMAL HOTEL & SPA",
                hotelAddress: "KarahayÄ±t, 120. SaÄŸlÄ±k Sk No:5/1, 20190 Pamukkale/Denizli",
                hotelCoords: [37.7920, 29.1190],
                summary: "å‰å¾€æ£‰å ¡ (Pamukkale)ï¼é€™è£¡ç››ç”¢æ£‰èŠ±ï¼Œæ˜¯åœŸè€³å…¶ç´¡ç¹”æ¥­ä¸­å¿ƒã€‚é£¯åº—æœ‰æº«æ³‰å¯ä»¥æ³¡ã€‚",
                shoppingTip: "é€™æ˜¯è²·æ¯›å·¾ã€æµ´è¢ã€æ£‰Tæœ€åˆ’ç®—çš„ä¸€ç«™ã€‚Karahayit æ‘èŠå°±åœ¨é£¯åº—é™„è¿‘ã€‚",
                spots: [
                    { name: "Karahayit Village (ç´…è‰²æº«æ³‰æ‘)", distance: 10, walkText: "æ­¥è¡Œ 10-15 åˆ†é˜", type: "åœ¨åœ°å¸‚é›†", goods: "æ£‰ç¹”å“ã€æµ´è¢ã€çŸ³æ¦´é†‹", desc: "é£¯åº—èµ°å‡ºå»ä¸é å°±æ˜¯å¸‚é›†ï¼Œé€™è£¡çš„ç´¡ç¹”å“ä¿—åˆå¤§ç¢—ï¼Œè¨˜å¾—æ®ºåƒ¹ã€‚", mapQuery: "KarahayÄ±t, Pamukkale, Denizli", coords: [37.7940, 29.1170] },
                    { name: "é£¯åº—å…§å•†åº—", distance: 1, walkText: "é£¯åº—å¤§å»³", type: "ä¾¿åˆ©åº—", goods: "æ³³è¡£ã€æ³³å¸½ (æ³¡æº«æ³‰ç”¨)", desc: "å¦‚æœä½ å¿˜äº†å¸¶æ³³è¡£æ³¡æº«æ³‰ï¼Œåªèƒ½åœ¨é€™è£¡è²·è²´çš„äº†ã€‚", mapQuery: "", coords: [37.7920, 29.1190] },
                    { name: "Migros Jet (AtatÃ¼rk Cad.)", distance: 4, walkText: "æ­¥è¡Œç´„ 3-6 åˆ†é˜", type: "Migros", brand: "migros", goods: "æ°´ã€æœæ±ã€é›¶é£Ÿã€ç”Ÿé®®", desc: "æ‘ä¸­ä¸»è¡— AtatÃ¼rk å¤§é“ä¸Šï¼Œé›¢é£¯åº—å¾ˆè¿‘ï¼Œå“é …æ¯”è¼ƒé½Šå…¨ã€‚", mapQuery: "Migros Jet, KarahayÄ±t Mah. AtatÃ¼rk Cad. No:20, Pamukkale, Denizli", coords: [37.7935, 29.1180] },
                    { name: "ÅOK (152. Sok.)", distance: 6, walkText: "æ­¥è¡Œç´„ 5-8 åˆ†é˜", type: "ÅOK", brand: "sok", goods: "é£²ç”¨æ°´ã€é¤…ä¹¾ã€æœæ±", desc: "KarahayÄ±t æ‘å…§çš„ ÅOKï¼Œåœ¨ä¸»è¡—æ—çš„å°å··è£¡ã€‚", mapQuery: "ÅOK Market, KarahayÄ±t Mahallesi, 152. Sokak No:3/A, Pamukkale, Denizli", coords: [37.7930, 29.1165] },
                    { name: "A101 (KÄ±zÄ±lhamam Sok.)", distance: 8, walkText: "æ­¥è¡Œç´„ 5-10 åˆ†é˜", type: "A101", brand: "a101", goods: "é£²ç”¨æ°´ã€æœæ±ã€é›¶é£Ÿ", desc: "KarahayÄ±t æ‘å…§çš„ A101ï¼ŒKÄ±zÄ±lhamam è¡—ä¸Šã€‚", mapQuery: "A101, KarahayÄ±t Mahallesi, KÄ±zÄ±lhamam Sokak No:118, Pamukkale, Denizli", coords: [37.7925, 29.1155] },
                    { name: "Eczane (AtatÃ¼rk Cad.)", distance: 4, walkText: "æ­¥è¡Œç´„ 3-6 åˆ†é˜", type: "Eczane", brand: "eczane", goods: "è—¥å“ã€é˜²æ›¬ã€åŸºç¤ä¿é¤Š", desc: "ä¸»è¡— AtatÃ¼rk å¤§é“ä¸Šï¼ŒMigros Jet æ—é‚Šã€‚æ£‰å ¡æ²’æœ‰ Gratis/Watsonsã€‚", mapQuery: "Eczane, KarahayÄ±t Mah. AtatÃ¼rk Cad., Pamukkale, Denizli", coords: [37.7936, 29.1178] }
                ],
                chartData: { distance: [10, 1, 4, 6, 8, 4], types: [50, 15, 35, 0] }
            },
            // Day 8: 3/18 Izmir - KAYA IZMIR THERMAL
            {
                date: "3/18",
                day: "Day 8",
                location: "Pamukkale -> Izmir",
                hotel: "KAYA IZMIR THERMAL HOTEL",
                hotelAddress: "IlÄ±ca, Zeytin Sk. No:112, 35320 NarlÄ±dere/Ä°zmir",
                hotelCoords: [38.3920, 26.9480],
                summary: "å‰å¾€æ„›ç´æµ·å¤§åŸä¼ŠèŒ²å¯†çˆ¾ã€‚Kaya é£¯åº—ä½æ–¼ NarlÄ±dere å€ï¼Œé›¢å¸‚ä¸­å¿ƒæœ‰é»è·é›¢ï¼Œä½†é›¢ Agora è³¼ç‰©ä¸­å¿ƒä¸ç®—å¤ªé ã€‚",
                shoppingTip: "é€™æ™šé©åˆå»é€›ç¾ä»£åŒ–çš„ Shopping Mallã€‚Agora Mall æœ‰åœ‹éš›å“ç‰Œï¼Œé€›èµ·ä¾†å¾ˆèˆ’æœã€‚",
                spots: [
                    { name: "Agora Shopping Center", distance: 20, walkText: "æ­¥è¡Œç´„ 20 åˆ† / è»Šç¨‹ 5 åˆ†", type: "å¤§å‹å•†å ´", goods: "H&M, LC Waikiki (åœŸè€³å…¶åœ‹æ°‘ç‰Œ), ç©å…·, ç¾é£Ÿè¡—", desc: "éå¸¸å¥½é€›çš„å•†å ´ï¼Œæ­è¨ˆç¨‹è»Šå¾ˆä¾¿å®œä¹Ÿå¾ˆè¿‘ã€‚", mapQuery: "Agora AVM, BalÃ§ova, Ä°zmir", coords: [38.3880, 27.0300] },
                    { name: "ÅOK (MithatpaÅŸa Cad.)", distance: 4, walkText: "æ­¥è¡Œç´„ 3-6 åˆ†é˜", type: "ÅOK", brand: "sok", goods: "é£²ç”¨æ°´ã€é›¶é£Ÿã€å„ªæ ¼", desc: "IlÄ±ca å€ MithatpaÅŸa å¤§é“ä¸Šï¼Œé£¯åº—é™„è¿‘æœ€è¿‘çš„è¶…å¸‚ã€‚", mapQuery: "ÅOK Market, IlÄ±ca Mah. MithatpaÅŸa Cad. No:6/A, NarlÄ±dere, Ä°zmir", coords: [38.3925, 26.9500] },
                    { name: "Migros (MithatpaÅŸa Cad.)", distance: 6, walkText: "æ­¥è¡Œç´„ 5-8 åˆ†é˜", type: "Migros", brand: "migros", goods: "ç”Ÿé®®ã€æ°´æœã€é£²æ–™ã€æ—¥ç”¨å“", desc: "IlÄ±ca å€ MithatpaÅŸa å¤§é“ä¸Šï¼Œå“é …æ¯” ÅOK å¤šã€‚", mapQuery: "Migros, IlÄ±ca Mah. MithatpaÅŸa Cad. No:119/A, NarlÄ±dere, Ä°zmir", coords: [38.3930, 26.9520] },
                    { name: "A101 (MithatpaÅŸa Cad.)", distance: 6, walkText: "æ­¥è¡Œç´„ 5-8 åˆ†é˜", type: "A101", brand: "a101", goods: "é£²ç”¨æ°´ã€é›¶é£Ÿã€æ—¥ç”¨å“", desc: "åŒåœ¨ IlÄ±ca å€ MithatpaÅŸa å¤§é“ä¸Šã€‚", mapQuery: "A101, IlÄ±ca Mah. MithatpaÅŸa Cad. No:39/A, NarlÄ±dere, Ä°zmir", coords: [38.3928, 26.9510] },
                    { name: "Gratis (MithatpaÅŸa Cad.)", distance: 18, walkText: "æ­¥è¡Œç´„ 15-20 åˆ†ï¼ˆä¸‹å¡ï¼‰", type: "Gratis", brand: "gratis", goods: "ç«ç‘°æ°´ã€é¢è†œã€è­·æ‰‹éœœã€åœŸè€³å…¶å¹³åƒ¹ç¾å¦", desc: "NarlÄ±dere ä¸»è¡—ä¸Šï¼Œé›¢é£¯åº—æœ€è¿‘çš„è—¥å¦ã€‚å›ç¨‹ä¸Šå¡ä¹…ä¸€é»ï¼Œæˆ–æ­ dolmuÅŸ å›ã€‚", mapQuery: "Gratis, MithatpaÅŸa Caddesi No:238/A, NarlÄ±dere, Ä°zmir", coords: [38.3960, 26.9600] },
                    { name: "Nar Eczanesi", distance: 4, walkText: "æ­¥è¡Œç´„ 3-5 åˆ†é˜", type: "Eczane", brand: "eczane", goods: "è—¥å“ã€é˜²æ›¬ã€æ€¥éœ€ä¿é¤Šå“", desc: "IlÄ±ca å€ MithatpaÅŸa å¤§é“ä¸Šï¼Œé£¯åº—é™„è¿‘æœ€è¿‘çš„è—¥å±€ã€‚", mapQuery: "Nar Eczanesi, IlÄ±ca Mah. MithatpaÅŸa Cad. No:32/A, NarlÄ±dere, Ä°zmir", coords: [38.3922, 26.9495] }
                ],
                chartData: { distance: [20, 4, 6, 6, 18, 4], types: [50, 0, 40, 10] }
            },
            // Day 9: 3/19 Istanbul (BahÃ§elievler) - GRAND HARILTON
            {
                date: "3/19",
                day: "Day 9",
                location: "Izmir -> Istanbul",
                hotel: "GRAND HARILTON HOTEL",
                hotelAddress: "Yenibosna Merkez, Ali Duran Sk. No:6, 34100 BahÃ§elievler/Ä°stanbul",
                hotelCoords: [41.0020, 28.8320],
                summary: "å‰å¾€ä¼Šæ–¯å¦å ¡ï¼é£¯åº—ä½æ–¼ BahÃ§elievler (Yenibosna)ï¼Œé è¿‘èˆŠæ©Ÿå ´å€ï¼Œæ˜¯éƒŠå€ä½å®…å€ã€‚é™„è¿‘æœ‰ MetroPort AVM å’Œ StarCity Outlet å¯ä»¥é€›ã€‚",
                shoppingTip: "é£¯åº—åœ¨éƒŠå€ï¼Œå»ºè­°æ­åœ°éµæˆ–è¨ˆç¨‹è»Šå‰å¾€å¸‚ä¸­å¿ƒè§€å…‰è³¼ç‰©ã€‚MetroPort AVM æ­¥è¡Œå¯é”ã€‚",
                spots: [
                    { name: "MetroPort AVM", distance: 18, walkText: "æ­¥è¡Œç´„ 15-20 åˆ† / è»Šç¨‹ 5 åˆ†", type: "å¤§å‹å•†å ´", goods: "æœé£¾ã€ç¾é£Ÿè¡—ã€é›»å½±é™¢ã€Migrosã€Watsons", desc: "BahÃ§elievler åœ°éµç«™ä¸Šæ–¹çš„å•†å ´ï¼Œæœ‰ Migros å’Œ Watsonsï¼Œæ˜¯é™„è¿‘æœ€æ–¹ä¾¿çš„è³¼ç‰©ä¸­å¿ƒã€‚", mapQuery: "MetroPort AVM, BahÃ§elievler, Ä°stanbul", coords: [40.9980, 28.8580] },
                    { name: "StarCity Outlet", distance: 20, walkText: "æ­¥è¡Œç´„ 20 åˆ† / è»Šç¨‹ 5 åˆ†", type: "Outlet å•†å ´", goods: "é‹å‹•å“ç‰Œã€æ™‚å°šæŠ˜æ‰£", desc: "Yenibosna åœ°éµç«™é™„è¿‘çš„ Outlet å•†å ´ï¼Œé©åˆæ’¿ä¾¿å®œã€‚", mapQuery: "StarCity Outlet, BahÃ§elievler, Ä°stanbul", coords: [41.0000, 28.8400] },
                    { name: "ÅOK (SiyavuÅŸpaÅŸa Mah.)", distance: 10, walkText: "æ­¥è¡Œç´„ 8-12 åˆ†é˜", type: "ÅOK", brand: "sok", goods: "é£²ç”¨æ°´ã€æœæ±ã€é¤…ä¹¾", desc: "SiyavuÅŸpaÅŸa å€ OÄŸuzhan è¡—ä¸Šï¼Œé›¢é£¯åº—æœ€è¿‘çš„è¶…å¸‚ä¹‹ä¸€ã€‚", mapQuery: "ÅOK Market, SiyavuÅŸpaÅŸa Mah. OÄŸuzhan Sok. No:34/C, BahÃ§elievler, Ä°stanbul", coords: [41.0010, 28.8350] },
                    { name: "A101 (Yenibosna)", distance: 12, walkText: "æ­¥è¡Œç´„ 10-15 åˆ†é˜", type: "A101", brand: "a101", goods: "é£²ç”¨æ°´ã€é›¶é£Ÿã€æ—¥ç”¨å“", desc: "Yenibosna Ã‡obanÃ§eÅŸme å€ Fatih å¤§é“ä¸Šã€‚", mapQuery: "A101, Ã‡obanÃ§eÅŸme Mah. Fatih Cad. No:57, BahÃ§elievler, Ä°stanbul", coords: [41.0030, 28.8370] },
                    { name: "Migros (KoÃ§taÅŸ AVM)", distance: 15, walkText: "æ­¥è¡Œç´„ 12-15 åˆ†é˜", type: "Migros", brand: "migros", goods: "ç”Ÿé®®ã€æ°´æœã€é£²æ–™ã€æ—¥ç”¨å“", desc: "KoÃ§taÅŸ AVM è£¡é¢çš„ Migrosï¼Œå“é …é½Šå…¨ã€‚", mapQuery: "Migros, KoÃ§taÅŸ AVM, YÄ±ldÄ±rÄ±m BeyazÄ±d Cad. No:1, BahÃ§elievler, Ä°stanbul", coords: [41.0000, 28.8450] },
                    { name: "Watsons (MetroPort å…§)", distance: 18, walkText: "æ­¥è¡Œç´„ 15-20 åˆ† / è»Šç¨‹ 5 åˆ†", type: "Watsons", brand: "watsons", goods: "åœ‹éš›å“ç‰Œä¿é¤Šã€å½©å¦", desc: "åœ¨ MetroPort AVM è£¡é¢ã€‚", mapQuery: "Watsons, MetroPort AVM, BahÃ§elievler, Ä°stanbul", coords: [40.9980, 28.8580] },
                    { name: "Berkay Eczanesi", distance: 10, walkText: "æ­¥è¡Œç´„ 8-12 åˆ†é˜", type: "Eczane", brand: "eczane", goods: "è—¥å“ã€é˜²æ›¬ã€æ€¥éœ€ç”¨å“", desc: "BahÃ§elievler å€å…§ï¼Œèµ°è·¯å¯é”ã€‚", mapQuery: "Berkay Eczanesi, BahÃ§elievler, Ä°stanbul", coords: [41.0015, 28.8340] }
                ],
                chartData: { distance: [18, 20, 10, 12, 15, 18, 10], types: [40, 10, 30, 20] }
            },
            // Day 10: 3/20 Istanbul (BahÃ§elievler) - GRAND HARILTON (ç¬¬äºŒæ™š)
            {
                date: "3/20",
                day: "Day 10",
                location: "Istanbul (å¸‚å€è§€å…‰)",
                hotel: "GRAND HARILTON HOTEL",
                hotelAddress: "Yenibosna Merkez, Ali Duran Sk. No:6, 34100 BahÃ§elievler/Ä°stanbul",
                hotelCoords: [41.0020, 28.8320],
                summary: "ä¼Šæ–¯å¦å ¡å…¨æ—¥è§€å…‰ï¼å»ºè­°æ­åœ°éµå‰å¾€å¸‚ä¸­å¿ƒé€›é¦™æ–™å¸‚é›†ã€å¤§å¸‚é›†ã€‚æœ€å¾Œä¸€å¤©å¤§æ¡è³¼çš„æ©Ÿæœƒï¼",
                shoppingTip: "å¾ Yenibosna æ­ M1A åœ°éµåˆ° Aksaray è½‰ T1 è¼•è»Œåˆ° EminÃ¶nÃ¼ï¼Œç´„ 30-40 åˆ†å¯é”å¸‚ä¸­å¿ƒã€‚",
                spots: [
                    { name: "Egyptian Bazaar (é¦™æ–™å¸‚é›†)", distance: 40, walkText: "åœ°éµ+è¼•è»Œç´„ 30-40 åˆ†", type: "å‚³çµ±å¸‚é›†", goods: "åœŸè€³å…¶è»Ÿç³–(ç§¤é‡), è˜‹æœèŒ¶, ç•ªç´…èŠ±, çƒé­šå­", desc: "æ¯”å¤§å¸‚é›†æ›´è¦ªæ°‘ï¼Œå»ºè­°åœ¨é€™è£¡è²·é½Šæ‰€æœ‰åƒçš„ä¼´æ‰‹ç¦®ã€‚å¾ Yenibosna æ­ M1A â†’ Aksaray è½‰ T1 â†’ EminÃ¶nÃ¼ã€‚", mapQuery: "MÄ±sÄ±r Ã‡arÅŸÄ±sÄ±, EminÃ¶nÃ¼, Ä°stanbul", coords: [41.0165, 28.9705] },
                    { name: "Grand Bazaar (å¤§å¸‚é›†)", distance: 45, walkText: "åœ°éµ+è¼•è»Œç´„ 35-45 åˆ†", type: "è¶…å¤§å‹å¸‚é›†", goods: "é‡‘é£¾, åœ°æ¯¯, çš®ä»¶", desc: "è¿·å®®ä¸€æ¨£çš„åœ°æ–¹ï¼Œåƒè§€æ€§è³ªå¤§æ–¼è³¼ç‰©ï¼Œé™¤éä½ æ˜¯æ®ºåƒ¹é«˜æ‰‹ã€‚T1 è¼•è»Œ BeyazÄ±t ç«™ã€‚", mapQuery: "KapalÄ±Ã§arÅŸÄ±, BeyazÄ±t, Ä°stanbul", coords: [41.0108, 28.9680] },
                    { name: "NiÅŸantaÅŸÄ± ç²¾å“è¡—å€", distance: 50, walkText: "åœ°éµç´„ 40-50 åˆ† / è¨ˆç¨‹è»Š 30-40 åˆ†", type: "ç²¾å“è¡—å€", goods: "Beymen, Vakko, Louis Vuitton, Gucci, åœŸè€³å…¶è¨­è¨ˆå¸«å“ç‰Œ", desc: "ä¼Šæ–¯å¦å ¡æœ€é«˜ç´šçš„è³¼ç‰©è¡—ã€‚å¾ Yenibosna æ­ M1A åˆ° YenikapÄ± è½‰ M2 åˆ° Osmanbey ç«™ã€‚è·é›¢è¼ƒé ä½†å€¼å¾—ã€‚", mapQuery: "NiÅŸantaÅŸÄ±, Abdi Ä°pekÃ§i Caddesi, ÅiÅŸli, Ä°stanbul", coords: [41.0480, 28.9950] },
                    { name: "A101 (Yenibosna)", distance: 12, walkText: "æ­¥è¡Œç´„ 10-15 åˆ†é˜", type: "A101", brand: "a101", goods: "å¤§é‡æ¡è³¼æœä¹¾ã€èŒ¶åŒ…ã€å·§å…‹åŠ›ç•¶ä¼´æ‰‹ç¦®", desc: "æœ€å¾Œè£œè²¨çš„å¥½é¸æ“‡ï¼Œé›¢é£¯åº—è¿‘ã€‚", mapQuery: "A101, Ã‡obanÃ§eÅŸme Mah. Fatih Cad. No:57, BahÃ§elievler, Ä°stanbul", coords: [41.0030, 28.8370] },
                    { name: "ÅOK (SiyavuÅŸpaÅŸa Mah.)", distance: 10, walkText: "æ­¥è¡Œç´„ 8-12 åˆ†é˜", type: "ÅOK", brand: "sok", goods: "æœ€å¾Œè£œè²¨é£²ç”¨æ°´ã€é›¶é£Ÿ", desc: "åŒ Day 9ï¼Œé£¯åº—é™„è¿‘æœ€è¿‘çš„è¶…å¸‚ã€‚", mapQuery: "ÅOK Market, SiyavuÅŸpaÅŸa Mah. OÄŸuzhan Sok. No:34/C, BahÃ§elievler, Ä°stanbul", coords: [41.0010, 28.8350] }
                ],
                chartData: { distance: [40, 45, 50, 12, 10], types: [15, 50, 20, 15] }
            },
            // Day 11: 3/21 é£›æ©Ÿä¸Š
            {
                date: "3/21",
                day: "Day 11",
                location: "Istanbul -> Taipei",
                hotel: "é£›æ©Ÿä¸Š",
                hotelAddress: "",
                hotelCoords: null,
                summary: "å›ç¨‹æ—¥ï¼è¨˜å¾—åœ¨ä¼Šæ–¯å¦å ¡æ©Ÿå ´å…ç¨…åº—åšæœ€å¾Œä¸€è¼ªæƒè²¨ã€‚æ©Ÿå ´å…ç¨…åº—æœ‰å¾ˆå¤šåœŸè€³å…¶å“ç‰Œã€‚",
                shoppingTip: "æ©Ÿå ´å…ç¨…åº—æ¨è–¦ï¼šTurkish Delight ç²¾è£ç¦®ç›’ã€åœŸè€³å…¶ç´…èŒ¶ã€Flormar å½©å¦ã€ç«ç‘°æ°´ã€‚",
                spots: [],
                chartData: { distance: [], types: [0,0,0,0] }
            },
            // Day 12: 3/22 æº«æš–çš„å®¶
            {
                date: "3/22",
                day: "Day 12",
                location: "å›åˆ°å°ç£",
                hotel: "æº«æš–çš„å®¶ ğŸ ",
                hotelAddress: "",
                hotelCoords: null,
                summary: "å›åˆ°æº«æš–çš„å®¶ï¼æ•´ç†æˆ°åˆ©å“ï¼Œå›å‘³ç¾å¥½çš„åœŸè€³å…¶ä¹‹æ—…ã€‚",
                shoppingTip: "æ­¡è¿å›å®¶ï¼å¸Œæœ›é€™è¶Ÿæ—…ç¨‹è²·å¾—é–‹å¿ƒã€‚",
                spots: [],
                chartData: { distance: [], types: [0,0,0,0] }
            }
        ];

        // --- APP STATE & RENDER LOGIC ---
        let currentIndex = 0;
        let distChart = null;
        let typeChart = null;

        function initApp() {
            renderTimeline();
            loadDate(0);
        }

        function renderTimeline() {
            const container = document.getElementById('timeline');
            container.innerHTML = tripData.map((item, idx) => `
                <button onclick="loadDate(${idx})"
                    class="flex-shrink-0 min-w-[80px] px-3 py-2 rounded-lg border text-center transition-all duration-200 snap-center
                    ${idx === 0 ? 'active-tab' : 'inactive-tab'}"
                    id="tab-${idx}">
                    <div class="text-xs font-bold opacity-70">${item.date}</div>
                    <div class="text-sm font-bold">${item.day}</div>
                    <div class="text-[10px] truncate w-full">${item.location.split('->')[0]}</div>
                </button>
            `).join('');
        }

        function loadDate(idx) {
            currentIndex = idx;
            const data = tripData[idx];

            document.querySelectorAll('#timeline button').forEach((btn, i) => {
                if (i === idx) {
                    btn.className = "flex-shrink-0 min-w-[80px] px-3 py-2 rounded-lg border text-center transition-all duration-200 snap-center active-tab shadow-md";
                } else {
                    btn.className = "flex-shrink-0 min-w-[80px] px-3 py-2 rounded-lg border text-center transition-all duration-200 snap-center inactive-tab hover:bg-gray-50";
                }
            });

            document.getElementById('day-badge').innerText = `${data.day} â€¢ ${data.date}`;
            document.getElementById('location-title').innerText = data.location;
            document.getElementById('hotel-name').innerText = data.hotel;
            document.getElementById('hotel-address').innerText = data.hotelAddress || '';
            document.getElementById('hotel-note').innerText = data.shoppingTip;
            document.getElementById('daily-summary').innerText = data.summary;

            const spotsContainer = document.getElementById('spots-container');
            if (data.spots.length === 0) {
                spotsContainer.innerHTML = `<div class="p-6 bg-gray-50 rounded-lg text-center text-gray-500">æœ¬æ—¥è¡Œç¨‹ä»¥äº¤é€š/æ©Ÿå ´ç‚ºä¸»ï¼Œè«‹æŠŠæ¡æ©Ÿå ´å…ç¨…åº—æ©Ÿæœƒï¼</div>`;
            } else {
                spotsContainer.innerHTML = data.spots.map((spot, i) => `
                    <div class="bg-white rounded-lg border border-gray-200 p-4 flex flex-col sm:flex-row justify-between items-start hover:border-teal-300 transition-colors ${spot.brand ? 'brand-' + spot.brand : ''}">
                        <div class="mb-2 sm:mb-0 flex-1">
                            <h4 class="font-bold text-gray-800 text-xl flex items-center flex-wrap">
                                ${spot.name}
                                <span class="ml-2 text-sm px-2 py-0.5 rounded border ${spot.brand ? 'brand-tag-' + spot.brand : 'bg-gray-100 text-gray-600'}">${spot.type}</span>
                            </h4>
                            <p class="text-base text-gray-600 mt-1"><span class="font-semibold text-teal-600">æ¨è–¦è³¼è²·ï¼š</span>${spot.goods}</p>
                            <p class="text-sm text-gray-400 mt-2 italic">"${spot.desc}"</p>
                        </div>
                        <div class="flex flex-col items-end min-w-[100px]">
                            <span class="text-sm font-bold bg-teal-50 text-teal-700 px-2 py-1 rounded mb-2">${spot.walkText}</span>
                            ${spot.mapQuery ? `<button onclick="navigate(${i})" class="bg-blue-500 hover:bg-blue-600 text-white text-sm font-bold px-3 py-1.5 rounded-full flex items-center gap-1 transition-colors">
                                <span>ğŸ“</span> å°èˆªå‰å¾€
                            </button>` : ''}
                        </div>
                    </div>
                `).join('');
            }

            updateCharts(data);
            renderMap(data);
            fetchWeather(data.hotelCoords);
            document.getElementById(`tab-${idx}`).scrollIntoView({behavior: 'smooth', block: 'nearest', inline: 'center'});
        }

        function updateCharts(data) {
            const ctxDist = document.getElementById('distanceChart').getContext('2d');
            if (distChart) distChart.destroy();

            const distLabels = data.spots.length ? data.spots.map(s => s.name.substring(0, 8) + '...') : ['N/A'];
            const distValues = data.spots.length ? data.spots.map(s => s.distance) : [0];

            distChart = new Chart(ctxDist, {
                type: 'bar',
                data: {
                    labels: distLabels,
                    datasets: [{
                        label: 'æ­¥è¡Œæ™‚é–“ (åˆ†)',
                        data: distValues,
                        backgroundColor: '#81E6D9',
                        borderColor: '#38B2AC',
                        borderWidth: 1,
                        borderRadius: 4,
                        barThickness: 20
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    indexAxis: 'y',
                    scales: {
                        x: { beginAtZero: true, grid: { display: false } },
                        y: { grid: { display: false } }
                    },
                    plugins: { legend: { display: false } }
                }
            });

            const ctxType = document.getElementById('typeChart').getContext('2d');
            if (typeChart) typeChart.destroy();

            typeChart = new Chart(ctxType, {
                type: 'doughnut',
                data: {
                    labels: ['æœé£¾/æ™‚å°š', 'ä¼´æ‰‹ç¦®/å·¥è—', 'è¶…å¸‚/ç”Ÿæ´»', 'ç²¾å“/å…¶ä»–'],
                    datasets: [{
                        data: data.chartData.types,
                        backgroundColor: ['#F6AD55', '#68D391', '#63B3ED', '#A0AEC0'],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { position: 'right', labels: { boxWidth: 10, font: { size: 10 } } }
                    }
                }
            });
        }

        // --- WEATHER ---
        const weatherCodes = {
            0: ['â˜€ï¸','æ™´å¤©'], 1: ['ğŸŒ¤','å¤§è‡´æ™´'], 2: ['â›…','å¤šé›²'], 3: ['â˜ï¸','é™°å¤©'],
            45: ['ğŸŒ«','éœ§'], 48: ['ğŸŒ«','å‡éœ§'],
            51: ['ğŸŒ¦','å°æ¯›é›¨'], 53: ['ğŸŒ¦','æ¯›é›¨'], 55: ['ğŸŒ§','å¤§æ¯›é›¨'],
            61: ['ğŸŒ§','å°é›¨'], 63: ['ğŸŒ§','ä¸­é›¨'], 65: ['ğŸŒ§','å¤§é›¨'],
            71: ['ğŸŒ¨','å°é›ª'], 73: ['ğŸŒ¨','ä¸­é›ª'], 75: ['â„ï¸','å¤§é›ª'],
            80: ['ğŸŒ¦','é™£é›¨'], 81: ['ğŸŒ§','ä¸­é™£é›¨'], 82: ['â›ˆ','å¤§é™£é›¨'],
            95: ['â›ˆ','é›·é›¨'], 96: ['â›ˆ','é›·é›¨+å†°é›¹'], 99: ['â›ˆ','å¼·é›·é›¨']
        };

        async function fetchWeather(coords) {
            const box = document.getElementById('weather-box');
            if (!coords) { box.classList.add('hidden'); return; }
            box.classList.remove('hidden');
            document.getElementById('weather-temp').textContent = '--Â°C';
            document.getElementById('weather-desc').textContent = 'è¼‰å…¥ä¸­...';
            document.getElementById('weather-detail').textContent = '';
            document.getElementById('weather-icon').textContent = 'ğŸŒ¤';
            try {
                const url = `https://api.open-meteo.com/v1/forecast?latitude=${coords[0]}&longitude=${coords[1]}&current=temperature_2m,relative_humidity_2m,weather_code,wind_speed_10m&timezone=Europe/Istanbul`;
                const res = await fetch(url);
                const data = await res.json();
                const c = data.current;
                const [icon, desc] = weatherCodes[c.weather_code] || ['ğŸŒ¡','--'];
                document.getElementById('weather-icon').textContent = icon;
                document.getElementById('weather-temp').textContent = Math.round(c.temperature_2m) + 'Â°C';
                document.getElementById('weather-desc').textContent = desc;
                document.getElementById('weather-detail').textContent = `ğŸ’§ ${c.relative_humidity_2m}%ã€€ğŸ’¨ ${Math.round(c.wind_speed_10m)} km/h`;
            } catch(e) {
                document.getElementById('weather-desc').textContent = 'ç„¡æ³•å–å¾—å¤©æ°£';
            }
        }

        // --- MAP ---
        let dailyMap = null;
        const brandColors = {
            migros: '#FF6600', sok: '#DAA520', a101: '#1E40AF',
            gratis: '#EC4899', watsons: '#2563EB', eczane: '#DC2626'
        };

        function renderMap(data) {
            if (dailyMap) { dailyMap.remove(); dailyMap = null; }
            const mapEl = document.getElementById('daily-map');
            if (!data.hotelCoords) {
                mapEl.innerHTML = '<div class="flex items-center justify-center h-full bg-gray-50 text-gray-400 rounded-xl">æœ¬æ—¥ç„¡åœ°åœ–é è¦½</div>';
                return;
            }
            mapEl.innerHTML = '';
            dailyMap = L.map('daily-map', { zoomControl: true, attributionControl: false })
                .setView(data.hotelCoords, 14);
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                maxZoom: 18
            }).addTo(dailyMap);

            // Hotel marker (red)
            const hotelIcon = L.divIcon({
                html: '<div style="background:#DC2626;color:white;border-radius:50%;width:32px;height:32px;display:flex;align-items:center;justify-content:center;font-size:16px;border:2px solid white;box-shadow:0 2px 6px rgba(0,0,0,0.3);">ğŸ¨</div>',
                iconSize: [32, 32], iconAnchor: [16, 16], className: ''
            });
            L.marker(data.hotelCoords, { icon: hotelIcon })
                .addTo(dailyMap)
                .bindPopup('<b>' + data.hotel + '</b><br>ä»Šæ™šä½é€™è£¡');

            // Spot markers
            const bounds = L.latLngBounds([data.hotelCoords]);
            data.spots.forEach((spot, i) => {
                if (!spot.coords) return;
                const color = spot.brand ? brandColors[spot.brand] : '#319795';
                const icon = L.divIcon({
                    html: '<div style="background:' + color + ';color:white;border-radius:50%;width:26px;height:26px;display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:bold;border:2px solid white;box-shadow:0 2px 4px rgba(0,0,0,0.3);">' + (i+1) + '</div>',
                    iconSize: [26, 26], iconAnchor: [13, 13], className: ''
                });
                L.marker(spot.coords, { icon: icon })
                    .addTo(dailyMap)
                    .bindPopup('<b>' + spot.name + '</b><br>' + spot.walkText);
                bounds.extend(spot.coords);
            });
            dailyMap.fitBounds(bounds, { padding: [30, 30], maxZoom: 15 });
        }

        function navigate(spotIndex) {
            const data = tripData[currentIndex];
            const spot = data.spots[spotIndex];
            if (!spot.mapQuery) return;
            const origin = encodeURIComponent(data.hotelAddress);
            const destination = encodeURIComponent(spot.mapQuery);
            const url = `https://www.google.com/maps/dir/?api=1&origin=${origin}&destination=${destination}&travelmode=walking`;
            window.open(url, '_blank');
        }

        // Dual clock: Taiwan (UTC+8) & Turkey (UTC+3)
        function updateClocks() {
            const now = new Date();
            const twTime = new Date(now.toLocaleString('en-US', { timeZone: 'Asia/Taipei' }));
            const trTime = new Date(now.toLocaleString('en-US', { timeZone: 'Europe/Istanbul' }));
            const fmt = (d) => d.toLocaleTimeString('zh-TW', { hour: '2-digit', minute: '2-digit', second: '2-digit', hour12: false });
            document.getElementById('clock-tw').textContent = fmt(twTime);
            document.getElementById('clock-tr').textContent = fmt(trTime);
        }

        // Initialize app
        window.addEventListener('DOMContentLoaded', () => {
            initApp();
            updateClocks();
            setInterval(updateClocks, 1000);
        });

        // Register Service Worker
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('./sw.js')
                .then(reg => console.log('SW registered:', reg.scope))
                .catch(err => console.log('SW registration failed:', err));
        }
    </script>
</body>
</html>
